var WarriorSim=function(){var n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return"undefined"!=typeof __filename&&(n=n||__filename),function(t){var e,r=void 0!==(t=t||{})?t:{},i={};for(e in r)r.hasOwnProperty(e)&&(i[e]=r[e]);var a,o,u=[],l=!1,s=!1;l="object"==typeof window,s="function"==typeof importScripts,a="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!l&&!s,o=!l&&!a&&!s;var f,c,p,m,d="";a?(d=__dirname+"/",f=function(n,t){return p||(p=require("fs")),m||(m=require("path")),n=m.normalize(n),p.readFileSync(n,t?null:"utf8")},c=function(n){var t=f(n,!0);return t.buffer||(t=new Uint8Array(t)),A(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),u=process.argv.slice(2),process.on("uncaughtException",function(n){if(!(n instanceof mn))throw n}),process.on("unhandledRejection",Y),function(n){process.exit(n)},r.inspect=function(){return"[Emscripten Module object]"}):o?("undefined"!=typeof read&&(f=function(n){return read(n)}),c=function(n){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(n)):(A("object"==typeof(t=read(n,"binary"))),t)},"undefined"!=typeof scriptArgs?u=scriptArgs:void 0!==arguments&&(u=arguments),"function"==typeof quit&&function(n){quit(n)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(l||s)&&(s?d=self.location.href:document.currentScript&&(d=document.currentScript.src),n&&(d=n),d=0!==d.indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",f=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText},s&&(c=function(n){var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(n,t,e){var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):e()},r.onerror=e,r.send(null)});var y=r.print||console.log.bind(console),_=r.printErr||console.warn.bind(console);for(e in i)i.hasOwnProperty(e)&&(r[e]=i[e]);i=null,r.arguments&&(u=r.arguments),r.thisProgram&&r.thisProgram,r.quit&&r.quit;var h,v,g=0,b=function(n){g=n},w=function(){return g};r.wasmBinary&&(h=r.wasmBinary),r.noExitRuntime&&r.noExitRuntime,"object"!=typeof WebAssembly&&_("no native wasm support detected");var S=new WebAssembly.Table({initial:173,maximum:173,element:"anyfunc"}),C=!1;function A(n,t){n||Y("Assertion failed: "+t)}var M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(n,t,e){for(var r=t+e,i=t;n[i]&&!(i>=r);)++i;if(i-t>16&&n.subarray&&M)return M.decode(n.subarray(t,i));for(var a="";t<i;){var o=n[t++];if(128&o){var u=63&n[t++];if(192!=(224&o)){var l=63&n[t++];if((o=224==(240&o)?(15&o)<<12|u<<6|l:(7&o)<<18|u<<12|l<<6|63&n[t++])<65536)a+=String.fromCharCode(o);else{var s=o-65536;a+=String.fromCharCode(55296|s>>10,56320|1023&s)}}else a+=String.fromCharCode((31&o)<<6|u)}else a+=String.fromCharCode(o)}return a}function E(n,t){return n?R(x,n,t):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var T,x,I,P;var W,j=107936,D=r.TOTAL_MEMORY||16777216;function k(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var e=t.func;"number"==typeof e?void 0===t.arg?r.dynCall_v(e):r.dynCall_vi(e,t.arg):e(void 0===t.arg?null:t.arg)}else t()}}(v=r.wasmMemory?r.wasmMemory:new WebAssembly.Memory({initial:D/65536,maximum:D/65536}))&&(T=v.buffer),D=T.byteLength,T=W=T,r.HEAP8=new Int8Array(W),r.HEAP16=new Int16Array(W),r.HEAP32=I=new Int32Array(W),r.HEAPU8=x=new Uint8Array(W),r.HEAPU16=new Uint16Array(W),r.HEAPU32=new Uint32Array(W),r.HEAPF32=new Float32Array(W),r.HEAPF64=P=new Float64Array(W),I[j>>2]=5350992;var F=[],L=[],O=[],H=[];function q(n){H.unshift(n)}Math.abs,Math.cos,Math.sin,Math.tan,Math.acos,Math.asin,Math.atan,Math.atan2,Math.exp,Math.log,Math.sqrt,Math.ceil,Math.floor,Math.pow,Math.imul,Math.fround,Math.round,Math.min,Math.max,Math.clz32,Math.trunc;var U=0,B=null,z=null;function Y(n){throw r.onAbort&&r.onAbort(n),y(n+=""),_(n),C=!0,1,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(n)}r.preloadedImages={},r.preloadedAudios={};var G="data:application/octet-stream;base64,";function N(n){return String.prototype.startsWith?n.startsWith(G):0===n.indexOf(G)}var X,Z="WarriorSim.wasm";function J(){try{if(h)return new Uint8Array(h);if(c)return c(Z);throw"both async and sync fetching of the wasm failed"}catch(n){Y(n)}}N(Z)||(X=Z,Z=r.locateFile?r.locateFile(X,d):d+X);var K={1024:function(n,t,e,r){postMessage([0,n,{iterations:t,totaldmg:e,totalduration:r}])},1114:function(n,t,e,r,i,a,o){var u={iterations:n,totaldmg:t,totalduration:e,mindps:r,maxdps:i,sumdps:a,sumdps2:o,starttime:SIM_START,endtime:SIM_END};"undefined"!=typeof SIM_PLAYER&&(u.player=SIM_PLAYER),"undefined"!=typeof SIM_SPREAD&&(u.spread=SIM_SPREAD),postMessage([1,u])},1451:function(n,t,e){var r=E(n),i=e>>2;SIM_PLAYER.spells[r.replace(/[^\w]/g,"").toLowerCase()]={name:r,totaldmg:t,data:[...I.subarray(i,i+5)]}},1647:function(n,t,e){var r=E(n),i={name:r,uptime:t};e&&(i.totaldmg=e),SIM_PLAYER.auras[r.replace(/[^\w]/g,"").toLowerCase()]=i},1819:function(n,t,e,r){var i=r>>2;SIM_PLAYER[n?"oh":"mh"]={totaldmg:t,totalprocdmg:e,data:[...I.subarray(i,i+5)]}},1965:function(n,t){var e=n>>2,r=(n>>2)+t;SIM_SPREAD={};for(var i=e;i<r;++i)I[i]&&(SIM_SPREAD[i-e]=I[i])},2136:function(){SIM_START=(new Date).getTime()},2170:function(){SIM_END=(new Date).getTime()},2201:function(){SIM_PLAYER={auras:{},spells:{}}}},Q=[];L.push({func:function(){un()}});var V={},$=0;function nn(){return nn.uncaught_exceptions>0}function tn(n,t,e){x.set(x.subarray(t,t+e),n)}var en={buffers:[null,[],[]],printChar:function(n,t){var e=en.buffers[n];0===t||10===t?((1===n?y:_)(R(e,0)),e.length=0):e.push(t)},varargs:0,get:function(n){return en.varargs+=4,I[en.varargs-4>>2]},getStr:function(){return E(en.get())},get64:function(){var n=en.get();en.get();return n},getZero:function(){en.get()}};var rn={__cxa_allocate_exception:function(n){return ln(n)},__cxa_find_matching_catch_2:function(){var n=$;if(!n)return 0|(b(0),0);var t=V[n],e=t.type;if(!e)return 0|(b(0),n);var r=Array.prototype.slice.call(arguments);___cxa_is_pointer_type(e),I[27024]=n,n=108096;for(var i=0;i<r.length;i++)if(r[i]&&___cxa_can_catch(r[i],e,n))return n=I[n>>2],t.adjusted.push(n),0|(b(r[i]),n);return n=I[n>>2],0|(b(e),n)},__cxa_throw:function(n,t,e){throw V[n]={ptr:n,adjusted:[n],type:t,destructor:e,refcount:0,caught:!1,rethrown:!1},$=n,"uncaught_exception"in nn?nn.uncaught_exceptions++:nn.uncaught_exceptions=1,n},__resumeException:function(n){throw $||($=n),n},abort:function(){Y()},emscripten_asm_const_iii:function(n,t,e){var r=function(n,t){var e,r=Q;for(r.length=0;e=x[n++];)100===e||102===e?(t=t+7&-8,r.push(P[t>>3]),t+=8):(t=t+3&-4,r.push(I[t>>2]),t+=4);return r}(t,e);return K[n].apply(null,r)},emscripten_get_sbrk_ptr:function(){return 107936},emscripten_memcpy_big:tn,emscripten_resize_heap:function(n){Y("OOM")},fd_close:function(n){try{return 0}catch(n){return"undefined"!=typeof FS&&n instanceof FS.ErrnoError||Y(n),n.errno}},fd_seek:function(n,t,e,r,i){try{return 0}catch(n){return"undefined"!=typeof FS&&n instanceof FS.ErrnoError||Y(n),n.errno}},fd_write:function(n,t,e,r){try{for(var i=0,a=0;a<e;a++){for(var o=I[t+8*a>>2],u=I[t+(8*a+4)>>2],l=0;l<u;l++)en.printChar(n,x[o+l]);i+=u}return I[r>>2]=i,0}catch(n){return"undefined"!=typeof FS&&n instanceof FS.ErrnoError||Y(n),n.errno}},getTempRet0:function(){return 0|w()},invoke_iii:function(n,t,e){var r=cn();try{return fn(n,t,e)}catch(n){if(pn(r),n!==n+0&&"longjmp"!==n)throw n;sn(1,0)}},memory:v,setTempRet0:function(n){b(0|n)},table:S},an=function(){var n={env:rn,wasi_snapshot_preview1:rn};function t(n,t){var e=n.exports;r.asm=e,function(n){if(U--,r.monitorRunDependencies&&r.monitorRunDependencies(U),0==U&&(null!==B&&(clearInterval(B),B=null),z)){var t=z;z=null,t()}}()}function e(n){t(n.instance)}function i(t){return(h||!l&&!s||"function"!=typeof fetch?new Promise(function(n,t){n(J())}):fetch(Z,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+Z+"'";return n.arrayBuffer()}).catch(function(){return J()})).then(function(t){return WebAssembly.instantiate(t,n)}).then(t,function(n){_("failed to asynchronously prepare wasm: "+n),Y(n)})}if(U++,r.monitorRunDependencies&&r.monitorRunDependencies(U),r.instantiateWasm)try{return r.instantiateWasm(n,t)}catch(n){return _("Module.instantiateWasm callback failed with error: "+n),!1}return function(){if(h||"function"!=typeof WebAssembly.instantiateStreaming||N(Z)||"function"!=typeof fetch)return i(e);fetch(Z,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,n).then(e,function(n){_("wasm streaming compile failed: "+n),_("falling back to ArrayBuffer instantiation"),i(e)})})}(),{}}();r.asm=an;var on,un=r.___wasm_call_ctors=function(){return(un=r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)},ln=(r._initRandom=function(){return(r._initRandom=r.asm.initRandom).apply(null,arguments)},r._allocConfig=function(){return(r._allocConfig=r.asm.allocConfig).apply(null,arguments)},r._freeConfig=function(){return(r._freeConfig=r.asm.freeConfig).apply(null,arguments)},r._allocTalents=function(){return(r._allocTalents=r.asm.allocTalents).apply(null,arguments)},r._freeTalents=function(){return(r._freeTalents=r.asm.freeTalents).apply(null,arguments)},r._setTalent=function(){return(r._setTalent=r.asm.setTalent).apply(null,arguments)},r._spellOptions=function(){return(r._spellOptions=r.asm.spellOptions).apply(null,arguments)},r._enableBuff=function(){return(r._enableBuff=r.asm.enableBuff).apply(null,arguments)},r._enableItem=function(){return(r._enableItem=r.asm.enableItem).apply(null,arguments)},r._enableEnchant=function(){return(r._enableEnchant=r.asm.enableEnchant).apply(null,arguments)},r._allocSimulation=function(){return(r._allocSimulation=r.asm.allocSimulation).apply(null,arguments)},r._freeSimulation=function(){return(r._freeSimulation=r.asm.freeSimulation).apply(null,arguments)},r._runSimulation=function(){return(r._runSimulation=r.asm.runSimulation).apply(null,arguments)},r._reportSimulation=function(){return(r._reportSimulation=r.asm.reportSimulation).apply(null,arguments)},r._malloc=function(){return(ln=r._malloc=r.asm.malloc).apply(null,arguments)}),sn=(r._free=function(){return(r._free=r.asm.free).apply(null,arguments)},r._setThrew=function(){return(sn=r._setThrew=r.asm.setThrew).apply(null,arguments)}),fn=r.dynCall_iii=function(){return(fn=r.dynCall_iii=r.asm.dynCall_iii).apply(null,arguments)},cn=r.stackSave=function(){return(cn=r.stackSave=r.asm.stackSave).apply(null,arguments)},pn=(r.stackAlloc=function(){return(r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},r.stackRestore=function(){return(pn=r.stackRestore=r.asm.stackRestore).apply(null,arguments)});r.__growWasmMemory=function(){return(r.__growWasmMemory=r.asm.__growWasmMemory).apply(null,arguments)},r.dynCall_ii=function(){return(r.dynCall_ii=r.asm.dynCall_ii).apply(null,arguments)},r.dynCall_vi=function(){return(r.dynCall_vi=r.asm.dynCall_vi).apply(null,arguments)},r.dynCall_di=function(){return(r.dynCall_di=r.asm.dynCall_di).apply(null,arguments)},r.dynCall_v=function(){return(r.dynCall_v=r.asm.dynCall_v).apply(null,arguments)},r.dynCall_iiii=function(){return(r.dynCall_iiii=r.asm.dynCall_iiii).apply(null,arguments)},r.dynCall_viiiiii=function(){return(r.dynCall_viiiiii=r.asm.dynCall_viiiiii).apply(null,arguments)},r.dynCall_viiiii=function(){return(r.dynCall_viiiii=r.asm.dynCall_viiiii).apply(null,arguments)},r.dynCall_viiii=function(){return(r.dynCall_viiii=r.asm.dynCall_viiii).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.dynCall_iidiiii=function(){return(r.dynCall_iidiiii=r.asm.dynCall_iidiiii).apply(null,arguments)},r.dynCall_vii=function(){return(r.dynCall_vii=r.asm.dynCall_vii).apply(null,arguments)};function mn(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}r.asm=an,r.then=function(n){if(on)n(r);else{var t=r.onRuntimeInitialized;r.onRuntimeInitialized=function(){t&&t(),n(r)}}return r};function dn(n){function t(){on||(on=!0,C||(!0,k(L),k(O),r.onRuntimeInitialized&&r.onRuntimeInitialized(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)q(r.postRun.shift());k(H)}()))}n=n||u,U>0||(!function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)n=r.preRun.shift(),F.unshift(n);var n;k(F)}(),U>0||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),t()},1)):t()))}if(z=function n(){on||dn(),on||(z=n)},r.run=dn,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return!0,dn(),r.ready=new Promise(function(n,t){delete r.then,r.onAbort=function(n){t(n)},q(function(){n(r)})}),t}}();"object"==typeof exports&&"object"==typeof module?module.exports=WarriorSim:"function"==typeof define&&define.amd?define([],function(){return WarriorSim}):"object"==typeof exports&&(exports.WarriorSim=WarriorSim);